# S1 PRD：商品分类支持批量调整排序并保存

## 1. 背景
当前商品分类管理页仅支持逐条修改排序值。分类数量较多时，需要频繁编辑和保存，操作成本高，且容易遗漏。

## 2. 目标
在管理后台提供“批量调整分类排序并一次性保存”的能力，提升运营调整效率并降低误操作。

## 3. 用户场景
1. 运营在分类页按业务优先级重新排列多个分类。
2. 运营点击“保存排序”，系统一次性提交所有变更。
3. 保存成功后，页面按最新排序刷新展示。

## 4. 功能范围
### 4.1 包含
1. 分类页支持批量编辑排序值（多行可同时改动）。
2. 增加“保存排序”操作，统一提交本次变更。
3. 保存前提供基础校验（排序值为非负整数，分类 ID 有效）。
4. 保存成功后给出成功反馈，并刷新列表。

### 4.2 不包含
1. 不做拖拽排序（仅输入排序值批量保存）。
2. 不改动分类层级逻辑（parent-child 关系不变）。
3. 不改动客户端（面向消费者）分类展示规则。

## 5. 非功能要求
1. 一次批量保存应具备原子性，避免部分成功部分失败。
2. 接口应支持幂等重复提交（同一数据重复提交结果一致）。
3. 保持现有分类查询与新增/编辑/删除功能不受影响。

## 6. 验收标准
1. 用户可在一次操作中修改至少 10 条分类排序并成功保存。
2. 非法排序值会被明确拦截并提示。
3. 保存成功后重新查询，排序结果与提交一致。
4. 现有分类管理的其他功能回归正常。

## 7. 风险与边界
1. 并发修改可能导致后提交覆盖先提交结果，需要在方案阶段明确冲突处理策略。
2. 批量提交数据量过大可能影响响应时间，需要在方案阶段定义单次上限。

## 8. 结论
- 当前阶段：S1（PRD）
- 是否进入 S2：待用户确认
